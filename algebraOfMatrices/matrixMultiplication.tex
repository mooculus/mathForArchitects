\documentclass{ximera}

\input{../preamble}

\author{Jenny Sheldon \and Bart Snapp}


\outcome{Multiply $3\times 3$ matrices.}
\outcome{Identify the identity matrix.}
\outcome{Algebraically show that matrix multiplication is not necessarily commutative.}
\outcome{Geometrically show that matrix multiplication is not necessarily commutative.}



\title{Matrix multiplication}

\begin{document}
\begin{abstract}
  We introduce how to multiply, or compose, matrices.
\end{abstract}
\maketitle

We know how to multiply a matrix and a point. Multiplying two
matrices is a similar procedure:
\[
\begin{bmatrix}
a & b & c \\ 
d & e & f \\
g & h & i
\end{bmatrix}
\begin{bmatrix}
j & k & l \\ 
m & n & o \\
p & q & r
\end{bmatrix}
= \begin{bmatrix}
aj + bm + cp & ak + bn + cq & al + bo + cr \\
dj + em + fp & dk + en + fq & dl + eo + fr \\
gj + hm + ip & gk + hn + iq & gl + ho + ir 
\end{bmatrix}
\]

Variables are all good and well, but let's do this with actual
numbers.


\begin{example}
  Consider the following two matrices:
  \[
  \mat{M} =
  \begin{bmatrix}
    2 & 0 & 3\\
    1 & 2 & 0\\
    0 & 4 & -2
  \end{bmatrix}
  \qquad\text{and}\qquad
  \mat{N} = 
  \begin{bmatrix}
    3 & 2 & 1\\
    0 & 0 & -2\\
    -2 & 0 & 1
  \end{bmatrix}
  \]
  Compute: $\mat{M}\mat{N}$
  \begin{explanation}
    We just use the formula given above for matrix
    multiplication. Write with me:
    \begin{align*}
      \mat{M}\mat{N} &=
      \begin{bmatrix}
        2 & 0 & 3\\
        1 & 2 & 0\\
        0 & 4 & -2
      \end{bmatrix}
      \begin{bmatrix}
        3 & 2 & 1\\
        0 & 0 & -2\\
        -2 & 0 & 1
      \end{bmatrix}\\
      &=
      \begin{bmatrix}
        \answer[given]{0} & \answer[given]{4} & \answer[given]{5} \\
        \answer[given]{3} & \answer[given]{2} & \answer[given]{-3} \\
        \answer[given]{4} & \answer[given]{0} & \answer[given]{-10}
      \end{bmatrix}
    \end{align*}
  \end{explanation}
\end{example}

Some matrices have a lot of zeros in them. This makes your life
easier. Check out the next example.

\begin{example}
Consider the following two matrices:
\[
\mat{M} =
\begin{bmatrix}
1 & 2 & 3\\
4 & 5 & 6\\
7 & 8 & 9
\end{bmatrix}
\qquad\text{and}\qquad
\mat{I} = 
\begin{bmatrix}
1 & 0 & 0\\
0 & 1 & 0\\
0 & 0 & 1
\end{bmatrix}
\]
Compute: $\mat{M}\mat{I}$ 
\begin{explanation}
Write with me:
\begin{align*}
\mat{M}\mat{I} &= \begin{bmatrix}
1 & 2 & 3\\
4 & 5 & 6\\
7 & 8 & 9
\end{bmatrix}
\begin{bmatrix}
1 & 0 & 0\\
0 & 1 & 0\\
0 & 0 & 1
\end{bmatrix} \\
&=
\begin{bmatrix}
\answer[given]{1} & \answer[given]{2} & \answer[given]{3}\\
\answer[given]{4} & \answer[given]{5} & \answer[given]{6}\\
\answer[given]{7} & \answer[given]{8} & \answer[given]{9}
\end{bmatrix}
\end{align*}
But this is just $\mat{M}$!
\end{explanation}
\end{example}

\begin{question}
  What is $\mat{I}\mat{M}$ equal to?

  \begin{prompt}
    \[
    \mat{I}\mat{M} =
    \begin{bmatrix}
      \answer{1} & \answer{2} & \answer{3}\\
      \answer{4} & \answer{5} & \answer{6}\\
      \answer{7} & \answer{8} & \answer{9}
    \end{bmatrix}
    \]
  \end{prompt}
\end{question}

It turns out that we have a special name for $\mat{I}$.  We call it the \dfn{identity matrix}.

\begin{warning}
Matrix multiplication is \textbf{not} generally commutative. Check it out:
\[
\mat{F} =
\begin{bmatrix}
1 & 0 & 0\\
0 & -1 & 0\\
0 & 0 & 1
\end{bmatrix}
\qquad\text{and}\qquad
\mat{R} = 
\begin{bmatrix}
0 & -1 & 0\\
1 & 0 & 0\\
0 & 0 & 1
\end{bmatrix}
\]
When we multiply these matrices, we get:
\begin{align*}
\mat{F}\mat{R} &= \begin{bmatrix}
1 & 0 & 0\\
0 & -1 & 0\\
0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}
0 & -1 & 0\\
1 & 0 & 0\\
0 & 0 & 1
\end{bmatrix}\\
&=
\begin{bmatrix}
\answer[given]{0} & \answer[given]{-1} & \answer[given]{0}\\
\answer[given]{-1} & \answer[given]{0} & \answer[given]{0}\\
\answer[given]{0} & \answer[given]{0} & \answer[given]{1}
\end{bmatrix}
\end{align*}
On the other hand, we get:
\begin{align*}
\mat{R}\mat{F} &=
\begin{bmatrix}
0 & -1 & 0\\
1 & 0 & 0\\
0 & 0 & 1
\end{bmatrix}
\begin{bmatrix}
1 & 0 & 0\\
0 & -1 & 0\\
0 & 0 & 1
\end{bmatrix}\\
&=
\begin{bmatrix}
\answer[given]{0} & \answer[given]{1} & \answer[given]{0}\\
\answer[given]{1} & \answer[given]{0} & \answer[given]{0}\\
\answer[given]{0} & \answer[given]{0} & \answer[given]{1}
\end{bmatrix}
\end{align*}
\end{warning}

\begin{question}
Can you draw some nice pictures showing geometrically that matrix
multiplication is not commutative?
\begin{prompt}
\begin{multipleChoice}
  \choice[correct]{I've thought about this.}
  \choice{I've not thought about this.}
\end{multipleChoice}
\begin{idea}
  Here is a picture that shows it:
  \begin{image}
    \begin{tikzpicture}  
    \begin{axis}[  
        xmin=-4,  
        xmax=4,  
        ymin=-3,  
        ymax=3,  
        axis lines=center,  ticks=none, 
        xlabel=$x$,  
        ylabel=$y$,  
        every axis y label/.style={at=(current axis.above origin),anchor=south},  
        every axis x label/.style={at=(current axis.right of origin),anchor=west},  
      ]  
      \filldraw (axis cs: 2,1) circle (2pt);
      \filldraw (axis cs: -2,1) circle (2pt);
      \filldraw (axis cs: -1,-2) circle (2pt);

      \filldraw (axis cs: -1,2) circle (2pt);
      \filldraw (axis cs: 1,2) circle (2pt);
      
      \node[right] at (axis cs:2,1) {$\vec{p}$};
      \node[left] at (axis cs:-2,1) {$\mat{F}_{x=0}\vec{p}$};
      \node[left] at (axis cs:-1,-2) {$\mat{R}_{90}\mat{F}_{x=0}\vec{p}$};

      \node[left] at (axis cs:-1,2) {$\mat{R}_{90}\vec{p}$};
      \node[right] at (axis cs:1,2) {$\mat{F}_{x=0}\mat{R}_{90}\vec{p}$};
    \end{axis}  
  \end{tikzpicture}  
  \end{image}
\end{idea}
\end{prompt}
\end{question}


\begin{question}
  Is it always the case that $(\mat{L}\mat{M})\mat{N} = \mat{L}(\mat{M}\mat{N})$?
  
\begin{prompt}
\begin{multipleChoice}
  \choice[correct]{I've thought about this.}
  \choice{I've not thought about this.}
\end{multipleChoice}
\begin{idea}
  It turns out that whenever you have matrices $\mat{L}$, $\mat{M}$,
  and $\mat{N}$ it will be the case that:
  \[
  (\mat{L}\mat{M})\mat{N} = \mat{L}(\mat{M}\mat{N})
  \]
  This is called \dfn{associativity}. It is difficult to explain this
  working purely algebraically. Instead, we should realize that
  matrices are functions, and work abstractly.  In essence, the
  following diagram ``proves'' that functional composition is
  \textit{always} associative---and hence matrix multiplication is
  always associative. Note, we are writing our functions on the
  \textit{left} of the argument.
\begin{image}
  \begin{tikzpicture}[scale=.5,geometryDiagrams]

    \node at (-2,8) {$\vec{p}$};
    \draw[|->] (-1.5,8)--(-.5,8);
    \draw[fill=black!10!white] (0,8) ellipse (0.166 and 0.5);% ellipse
    \draw (.5,7) rectangle (2.5,9);
    \draw (3,8) [partial ellipse=270:450:0.166 and 0.5];
    \node at (1.5,8) {\Large $\mat{N}$};
    \draw (.5,8.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (.5,7.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (2.5,8.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (2.5,7.5) [partial ellipse=0:90:.5 and 0.166];

    %\node at (5,8.6) {$\vec{p} \mat{N}$};
    \draw[|->] (3.5,8)--(6.5,8);
    
    \draw[fill=black!10!white] (7,8) ellipse (0.166 and 0.5);% ellipse
    \draw (7.5,7) rectangle (9.5,9);
    \draw (10,8) [partial ellipse=270:450:0.166 and 0.5];
    \node at (8.5,8) {\Large $\mat{M}$};
    \draw (7.5,8.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (7.5,7.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (9.5,8.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (9.5,7.5) [partial ellipse=0:90:.5 and 0.166];

    \node at (5,8.6) {$\mat{N}\vec{p}$};

    \draw[|->] (10.5,8)--(13.5,8);
    
    \draw[fill=black!10!white] (14,8) ellipse (0.166 and 0.5);% ellipse
    \draw (14.5,7) rectangle (16.5,9);
    \draw (17,8) [partial ellipse=270:450:0.166 and 0.5];
    \node at (15.5,8) {\Large $\mat{L}$};
    \draw (14.5,8.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (14.5,7.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (16.5,8.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (16.5,7.5) [partial ellipse=0:90:.5 and 0.166];

    \node at (20.5,8) {$(\mat{L} \mat{M}) \mat{N}\vec{p}$};
    \draw[|->] (17.5,8)--(18.5,8);

    %\draw[dashed,gray] (-.4,6.6) rectangle (10.35,9.4);
    %\draw[dashed,gray] (6.6,2.6) rectangle (17.35,5.4);

    \draw[dashed,gray] (-.4,2.6) rectangle (10.35,5.4);
    \draw[dashed,gray] (6.6,6.6) rectangle (17.35,9.4);    
    
    %%%%%%%%%%%%%%%%%
    
    \node at (-2,4) {$\vec{p}$};
    \draw[|->] (-1.5,4)--(-.5,4);
    \draw[fill=black!10!white] (0,4) ellipse (0.166 and 0.5);% ellipse
    \draw (.5,3) rectangle (2.5,5);
    \draw (3,4) [partial ellipse=270:450:0.166 and 0.5];
    \node at (1.5,4) {\Large $\mat{N}$};
    \draw (.5,4.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (.5,3.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (2.5,4.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (2.5,3.5) [partial ellipse=0:90:.5 and 0.166];

    %\node at (5,4.6) {$\mat{N}\vec{p}$};
    \node at (12,4.6) {$\mat{M} \mat{N}\vec{p}$};
    \draw[|->] (3.5,4)--(6.5,4);
    
    \draw[fill=black!10!white] (7,4) ellipse (0.166 and 0.5);% ellipse
    \draw (7.5,3) rectangle (9.5,5);
    \draw (10,4) [partial ellipse=270:450:0.166 and 0.5];
    \node at (8.5,4) {\Large $\mat{M}$};
    \draw (7.5,4.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (7.5,3.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (9.5,4.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (9.5,3.5) [partial ellipse=0:90:.5 and 0.166];

    %\node at (12,4.6) {$\vec{p} \mat{N} \mat{M}$};
    \draw[|->] (10.5,4)--(13.5,4);
    
    \draw[fill=black!10!white] (14,4) ellipse (0.166 and 0.5);% ellipse
    \draw (14.5,3) rectangle (16.5,5);
    \draw (17,4) [partial ellipse=270:450:0.166 and 0.5];
    \node at (15.5,4) {\Large $\mat{L}$};
    \draw (14.5,4.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (14.5,3.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (16.5,4.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (16.5,3.5) [partial ellipse=0:90:.5 and 0.166];

    \node at (20.5,4) {$\mat{L}(\mat{M}\mat{N})\vec{p}$};
    \draw[|->] (17.5,4)--(18.5,4);

    %%%%%%%%%%%%%%%%%

    \node at (-2,0) {$\vec{p}$};
    \draw[|->] (-1.5,0)--(-.5,0);
    \draw[fill=black!10!white] (0,0) ellipse (0.166 and 0.5);% ellipse
    \draw (.5,-1) rectangle (2.5,1);
    \draw (3,0) [partial ellipse=270:450:0.166 and 0.5];
    \node at (1.5,0) {\Large $\mat{N}$};
    \draw (.5,.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (.5,-.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (2.5,.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (2.5,-.5) [partial ellipse=0:90:.5 and 0.166];

    \node at (5,.6) {$\mat{N}\vec{p}$};
    \draw[|->] (3.5,0)--(6.5,0);
    
    \draw[fill=black!10!white] (7,0) ellipse (0.166 and 0.5);% ellipse
    \draw (7.5,-1) rectangle (9.5,1);
    \draw (10,0) [partial ellipse=270:450:0.166 and 0.5];
    \node at (8.5,0) {\Large $\mat{M}$};
    \draw (7.5,.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (7.5,-.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (9.5,.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (9.5,-.5) [partial ellipse=0:90:.5 and 0.166];

    \node at (12,.6) {$\mat{M} \mat{N}\vec{p}$};
    \draw[|->] (10.5,0)--(13.5,0);
    
    \draw[fill=black!10!white] (14,0) ellipse (0.166 and 0.5);% ellipse
    \draw (14.5,-1) rectangle (16.5,1);
    \draw (17,0) [partial ellipse=270:450:0.166 and 0.5];
    \node at (15.5,0) {\Large $\mat{L}$};
    \draw (14.5,.5) [partial ellipse=180:270:.5 and 0.166];
    \draw (14.5,-.5) [partial ellipse=90:180:.5 and 0.166];
    \draw (16.5,.5) [partial ellipse=270:360:.5 and 0.166];
    \draw (16.5,-.5) [partial ellipse=0:90:.5 and 0.166];

    \node at (20.5,0) {$\mat{L} \mat{M} \mat{N}\vec{p}$};
    \draw[|->] (17.5,0)--(18.5,0);

    %%%%%%%%%%%%%%%%%

    

  \end{tikzpicture}
\end{image}


In the first row we see $\mat{N}$ applied to $\vec{p}$ and then
$\mat{L}$ composed with $\mat{M}$ applied to $\mat{N}\vec{p}$,
meaning:
\[
(\mat{L}\mat{M})\mat{N}\vec{p}
\]
In the second row we see $\mat{M}$ composed with $\mat{N}$ applied to
$\vec{p}$ and then $\mat{L}$ applied to $\mat{M}\mat{N}\vec{p}$,
meaning:
\[
\mat{L}(\mat{M}\mat{N})\vec{p}
\]
But all we are really doing is successively applying these functions
to $\vec{p}$, as show in the third row. The diagram shows that the
three functions are equivalent, and hence function composition is
associative.
\end{idea}
\end{prompt}
\end{question}


\end{document}
